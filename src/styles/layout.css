/* --- Visual polish v3 (layout expansion, no top-tabs) --- */
:root{
    font-family: Montserrat, Roboto, "Segoe UI", Helvetica, Arial, sans-serif;  line-height: 1.5;
  --header-h: 80px;
  --sidebar-w: 280px;
}
.card-case-info{
  display: flex;
  flex-direction: row;     /* horizontal */
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 0 1px 2px rgba(0,0,0,.03);
  position: sticky;        /* pegajoso como antes */
  top: 12px;
  align-self: start;       /* evita que estire verticalmente en grid */
}


.card-case-info h4{
  margin: 0;
  white-space: nowrap;     /* no partir en 2 líneas */
}
.card-case-info input{
  flex: 1;                 /* ocupa el espacio central */
  min-width: 160px;
  padding: 6px 10px;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  font-size: 14px;
  background: #f9fafb;
}
.card-case-info .row.section{
  display: flex;
  gap: 8px;
  flex-wrap: nowrap;       /* botones en línea */
}
.card-case-info .btn,
.card-case-info .btn-primary{
  white-space: nowrap;     /* evita salto en los botones */
}
@media (max-width: 700px){
  .card-case-info{
    flex-wrap: wrap;       /* permite salto de línea */
    gap: 10px 12px;
  }
  .card-case-info h4{
    flex-basis: 100%;
  }
  .card-case-info input{
    flex-basis: 100%;
  }
  .card-case-info .row.section{
    flex-basis: 100%;
    justify-content: flex-end; /* botones a la derecha */
  }
}
/* ya existe .app-shell en tu proyecto; no lo redefinimos aquí */

/* contenedor más ancho para aprovechar espacio */
.container {
  /* lo que ya tienes… */
  font-family: Montserrat, Roboto, "Segoe UI", Helvetica, Arial, sans-serif;  line-height: 1.5;
  max-width: 1440px;
  margin: 0 auto;
  padding: 12px 20px;        /* ⬅️ reduce un poco el padding vertical */
  height: calc(100vh - var(--header-h));  /* ⬅️ altura exacta, no min-height */
  overflow: hidden;          /* ⬅️ evita scroll en la página */
  display: flex;
  flex-direction: column;
  gap: 12px;
  box-sizing: border-box;    /* ⬅️ asegura que padding cuente dentro del height */
}

/* grid principal: tabla amplia + panel derecho controlado */
.split {
  display: flex;
  flex-direction: column;
  flex: 1;       
  min-height: 0;  
}
@media (max-width:1280px){
  .container{ max-width: 1200px; }
  .split{ grid-template-columns: 1fr minmax(320px, 380px); }
}
@media (max-width:1100px){
  .split{ grid-template-columns: 1fr; }
}

/* tarjetas */
.card {
  font-family: Montserrat, Roboto, "Segoe UI", Helvetica, Arial, sans-serif;  line-height: 1.5;
  background:#fff; 
  border:1px solid #e5e7eb; 
  border-radius:12px; 
  padding:14px; 
  box-shadow: 0 1px 2px rgba(0,0,0,.03);
}
.split > .card {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
  padding: 10px 12px;
}

/* toolbar superior */
.toolbar { 
  display:flex; gap:8px; align-items:center; 
  background:#f3f4f6; border-radius:10px; padding:10px; 
}
.toolbar input { flex:1; min-width:360px; }

/* tablas más cómodas */
.table { width:100%; border-collapse: collapse; table-layout: fixed; background:#fff; }
.table th, .table td { word-break: normal; overflow-wrap: break-word; }
.table thead th { position: sticky; top: 0; background: #fff; z-index: 1; }
.table tbody tr:nth-child(odd) { background: #f9fafb; }

/* anchos: id, entidad y narrativa */
.table th:nth-child(1), .table td:nth-child(1) { width:72px; }
.table th:nth-child(2), .table td:nth-child(2) { width: 340px; } /* más ancho para que no parta en vertical */
.table td { word-break: normal; overflow-wrap: break-word; }

/* preview narrativa: permitir más líneas (menos compresión) */
.table td:nth-child(3) {
  display: -webkit-box; 
  -webkit-line-clamp: 6;             /* antes 3 */
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* panel derecho pegajoso */
.case-info { position: sticky; top: 12px; }

/* selección en tablas + disabled buttons (ya lo usas) */
.table--selectable tbody tr { cursor: pointer; }
.table--selectable tbody tr:hover { background: #eef2ff; }
.table--selectable tbody tr[aria-selected="true"] { background: #dbeafe; outline: 2px solid #93c5fd; }
.btn[disabled], .btn:disabled, .btn-primary[disabled], .btn-primary:disabled { opacity:.55; cursor:not-allowed; filter:grayscale(.3); }

/* botones base */
.btn { border:1px solid #cbd5e1; background:#f8fafc; padding:8px 12px; border-radius:8px; cursor:pointer; }
.btn:hover { background:#eef2ff; border-color:#93c5fd; }
.btn-primary { background:#08539f; color:#fff; border:1px solid #08539f;; border-radius:8px; padding:8px 12px; }
.btn-primary:hover { filter: brightness(1.05); }

/* estados vacíos */
.empty-state { text-align:center; color:#6b7280; padding:24px 12px; }

/* --- Table scoping & column widths fix --- */

/* Quita el clamp global de la 3ra columna en TODAS las tablas.
   Ahora lo aplicamos SOLO en la tabla de casos (analizar). */
.cases-table td:nth-child(3) {
  display: -webkit-box;
  -webkit-line-clamp: 6;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Asegura que encabezados no se rompan letra por letra */
.table th { white-space: nowrap; }

/* Evita "partir" caracteres en celdas estándar por defecto */
.table td { word-break: normal; overflow-wrap: break-word; }


/* Grupos: anchos explícitos para que no se compriman */
.groups-table th:nth-child(1), .groups-table td:nth-child(1) { width: 72px; }      /* ID */
.groups-table th:nth-child(2), .groups-table td:nth-child(2) { width: auto; }      /* Nombre (crece) */
.groups-table th:nth-child(3), .groups-table td:nth-child(3) { width: 120px; text-align: right; } /* Casos */
.groups-table th:nth-child(4), .groups-table td:nth-child(4) { width: 200px; }     /* Fecha */

/* Asegura distribución estable en layout fixed */
.groups-table { table-layout: fixed; }
.cases-table  { table-layout: fixed; }

/* Cases table explicit widths */
.cases-table th:nth-child(1), .cases-table td:nth-child(1) { width: 72px; }
.cases-table th:nth-child(2), .cases-table td:nth-child(2) { width: 360px; }

/* === Patches (sidebar & header) === */
.sidebar { display: flex; flex-direction: column; }
.sidebar .nav-buttons { display: grid; grid-template-columns: 1fr; gap: 8px; }
.sidebar button, .sidebar a.btn { width: auto; display: inline-flex; }
.sidebar .logout-area { margin-top: auto; padding-top: 8px; }
.app-header { width: 100%; min-width: 100%; }


.table-wrapper {
  flex: 1;
  min-height: 0;
  height: 100%;      
  overflow-y: auto;  
  overflow-x: auto;
  border-radius: 8px;
}

